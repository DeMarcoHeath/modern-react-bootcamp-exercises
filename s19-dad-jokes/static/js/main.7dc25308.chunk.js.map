{"version":3,"sources":["Joke.js","JokeList.js","Header.js","DadJokes.js","App.js","index.js"],"names":["Joke","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","rateUp","bind","assertThisInitialized","rateDown","rate","id","rating","concat","_this$props","joke","smileys","react_default","a","createElement","className","onClick","style","border","getRGB","role","aria-label","dist_es","emoji","Math","min","max","toString","set","size","Component","defaultProps","-11","-10","-9","-8","-7","-6","-5","-4","-3","-2","-1","0","1","2","3","4","5","6","7","8","9","10","11","12","JokeList","jokes","length","map","j","Joke_Joke","assign","key","Header","enabled","generate","src","disabled","DadJokes","state","local","localStorage","getItem","setState","JSON","parse","idx","diff","objectSpread","sort","b","setItem","stringify","_this2","retrieveRecursive","_ref","asyncToGenerator","regenerator_default","mark","_callee","_ref2","data","status","wrap","_context","prev","next","axios","get","headers","Accept","catch","console","error","sent","some","push","stop","apply","arguments","Header_Header","JokeList_JokeList","App","DadJokes_DadJokes","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.7dc25308.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport './Joke.css';\r\nimport { Emoji } from 'emoji-mart';\r\n\r\nexport default class Joke extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.rateUp = this.rateUp.bind(this);\r\n    this.rateDown = this.rateDown.bind(this);\r\n  }\r\n  static defaultProps = {\r\n    smileys: {\r\n      '-11': 'dizzy_face',\r\n      '-10': 'rage',\r\n      '-9': 'triumph',\r\n      '-8': 'angry',\r\n      '-7': 'sob',\r\n      '-6': 'cold_sweat',\r\n      '-5': 'disappointed_relieved',\r\n      '-4': 'confounded',\r\n      '-3': 'anguished',\r\n      '-2': 'unamused',\r\n      '-1': 'disappointed',\r\n      '0': 'frowning',\r\n      '1': 'neutral_face',\r\n      '2': 'relieved',\r\n      '3': 'grimacing',\r\n      '4': 'smirk',\r\n      '5': 'stuck_out_tongue_winking_eye',\r\n      '6': 'blush',\r\n      '7': 'sweat_smile',\r\n      '8': 'smile',\r\n      '9': 'laughing',\r\n      '10': 'joy',\r\n      '11': 'scream',\r\n      '12': 'sunglasses'\r\n    }\r\n  };\r\n  rateUp() {\r\n    this.props.rate(this.props.id, +1);\r\n  }\r\n  rateDown() {\r\n    this.props.rate(this.props.id, -1);\r\n  }\r\n  getRGB(rating) {\r\n    if (rating > 0) return `${200 - rating * 20},200,0`;\r\n    return `200,${200 - rating * -20},0`;\r\n  }\r\n  render() {\r\n    const { rating, joke, smileys } = this.props;\r\n\r\n    return (\r\n      <div className=\"Joke\">\r\n        <div className=\"Joke-left\">\r\n          {rating != null && (\r\n            <div>\r\n              <button onClick={this.rateDown} className=\"Joke-arrow Joke-arrow-down\">\r\n                â¬‡\r\n              </button>\r\n              <div className=\"Joke-rating\" style={{ border: `3px solid rgb(${this.getRGB(rating)})` }}>\r\n                {rating}\r\n              </div>\r\n              <button onClick={this.rateUp} className=\"Joke-arrow Joke-arrow-up\">\r\n                â¬†\r\n              </button>\r\n            </div>\r\n          )}\r\n        </div>\r\n        <div className=\"Joke-text\">{joke}</div>\r\n        <span className={`Joke-emoji${rating == null ? ' Joke-emoji-roll' : ''}`} role=\"img\" aria-label=\"\">\r\n          <Emoji emoji={`:${smileys[Math.min(Math.max(rating || 0, -11), 12).toString()]}:`} set=\"messenger\" size={32} />\r\n        </span>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport Joke from './Joke';\r\nimport './JokeList.css';\r\n\r\nexport default class JokeList extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"JokeList\">\r\n        {this.props.jokes.length ? (\r\n          this.props.jokes.map(j => <Joke {...j} key={j.id} rate={this.props.rate} />)\r\n        ) : (\r\n          <Joke key=\"Loading\" joke=\"Loading...\" />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport './Header.css';\r\n\r\nexport default class Header extends Component {\r\n  render() {\r\n    const { enabled, generate } = this.props;\r\n    return (\r\n      <div className=\"Header\">\r\n        <h1 className=\"Header-title\">\r\n          <span className=\"Header-title-top\">Dad</span> Jokes\r\n        </h1>\r\n        <img className=\"Header-icon\" src=\"/skeptic.png\" aria-label=\"Smiley\" />\r\n        {/* <span role=\"img\" className=\"Header-icon\" aria-label=\"Smiley\">\r\n          ðŸ¤¨\r\n        </span> */}\r\n        <button className=\"Header-button\" onClick={generate} disabled={!enabled}>\r\n          {enabled ? 'New Jokes' : 'Waiting...'}\r\n        </button>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport JokeList from './JokeList';\r\nimport Header from './Header';\r\nimport './DadJokes.css';\r\n\r\nexport default class DadJokes extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      jokes: []\r\n    };\r\n    this.generate = this.generate.bind(this);\r\n    this.rate = this.rate.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const local = localStorage.getItem('DadJokes');\r\n    if (local) this.setState({ jokes: JSON.parse(local) });\r\n    else this.generate();\r\n  }\r\n\r\n  rate(idx, diff) {\r\n    let jokes = this.state.jokes.map(j => (j.id === idx ? { ...j, rating: j.rating + diff } : j));\r\n    jokes = jokes.sort((a, b) => b.rating - a.rating);\r\n    this.setState({ jokes });\r\n    localStorage.setItem('DadJokes', JSON.stringify(jokes));\r\n  }\r\n\r\n  generate() {\r\n    let jokes = [];\r\n    this.setState({ jokes: [] }, () => {\r\n      const retrieveRecursive = async () => {\r\n        const { data } = await axios.get('https://icanhazdadjoke.com/', { headers: { Accept: 'application/json' } }).catch(console.error);\r\n        const { status, joke, id } = data;\r\n        if (status === 200) {\r\n          if (!jokes.some(j => j.id === id)) jokes.push({ joke, id, rating: 0 });\r\n          if (jokes.length >= 10) {\r\n            jokes = jokes.sort((a, b) => b.rating - a.rating);\r\n            this.setState({ jokes });\r\n            localStorage.setItem('DadJokes', JSON.stringify(jokes));\r\n          } else retrieveRecursive();\r\n        } else console.error('Failed to retrieve joke');\r\n      };\r\n      retrieveRecursive();\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"DadJokes\">\r\n        <Header generate={this.generate} enabled={this.state.jokes.length} />\r\n        <JokeList jokes={this.state.jokes} rate={this.rate} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport './App.css';\r\nimport DadJokes from './DadJokes';\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"App\">\r\n      <DadJokes />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}