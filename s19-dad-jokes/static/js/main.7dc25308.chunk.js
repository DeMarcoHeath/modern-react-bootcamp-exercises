(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{25:function(e,t,a){e.exports=a(58)},31:function(e,t,a){},32:function(e,t,a){},51:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){},57:function(e,t,a){},58:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(20),s=a.n(o),i=(a(31),a(32),a(10)),c=a.n(i),l=a(21),u=a(24),m=a(3),d=a(4),p=a(6),k=a(5),h=a(8),g=a(7),j=a(22),b=a.n(j),f=(a(51),a(23)),v=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(k.a)(t).call(this,e))).rateUp=a.rateUp.bind(Object(h.a)(a)),a.rateDown=a.rateDown.bind(Object(h.a)(a)),a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"rateUp",value:function(){this.props.rate(this.props.id,1)}},{key:"rateDown",value:function(){this.props.rate(this.props.id,-1)}},{key:"getRGB",value:function(e){return e>0?"".concat(200-20*e,",200,0"):"200,".concat(200- -20*e,",0")}},{key:"render",value:function(){var e=this.props,t=e.rating,a=e.joke,n=e.smileys;return r.a.createElement("div",{className:"Joke"},r.a.createElement("div",{className:"Joke-left"},null!=t&&r.a.createElement("div",null,r.a.createElement("button",{onClick:this.rateDown,className:"Joke-arrow Joke-arrow-down"},"\u2b07"),r.a.createElement("div",{className:"Joke-rating",style:{border:"3px solid rgb(".concat(this.getRGB(t),")")}},t),r.a.createElement("button",{onClick:this.rateUp,className:"Joke-arrow Joke-arrow-up"},"\u2b06"))),r.a.createElement("div",{className:"Joke-text"},a),r.a.createElement("span",{className:"Joke-emoji".concat(null==t?" Joke-emoji-roll":""),role:"img","aria-label":""},r.a.createElement(f.a,{emoji:":".concat(n[Math.min(Math.max(t||0,-11),12).toString()],":"),set:"messenger",size:32})))}}]),t}(n.Component);v.defaultProps={smileys:{"-11":"dizzy_face","-10":"rage","-9":"triumph","-8":"angry","-7":"sob","-6":"cold_sweat","-5":"disappointed_relieved","-4":"confounded","-3":"anguished","-2":"unamused","-1":"disappointed",0:"frowning",1:"neutral_face",2:"relieved",3:"grimacing",4:"smirk",5:"stuck_out_tongue_winking_eye",6:"blush",7:"sweat_smile",8:"smile",9:"laughing",10:"joy",11:"scream",12:"sunglasses"}};a(55);var O=function(e){function t(){return Object(m.a)(this,t),Object(p.a)(this,Object(k.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"JokeList"},this.props.jokes.length?this.props.jokes.map(function(t){return r.a.createElement(v,Object.assign({},t,{key:t.id,rate:e.props.rate}))}):r.a.createElement(v,{key:"Loading",joke:"Loading..."}))}}]),t}(n.Component),y=(a(56),function(e){function t(){return Object(m.a)(this,t),Object(p.a)(this,Object(k.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.enabled,a=e.generate;return r.a.createElement("div",{className:"Header"},r.a.createElement("h1",{className:"Header-title"},r.a.createElement("span",{className:"Header-title-top"},"Dad")," Jokes"),r.a.createElement("img",{className:"Header-icon",src:"/skeptic.png","aria-label":"Smiley"}),r.a.createElement("button",{className:"Header-button",onClick:a,disabled:!t},t?"New Jokes":"Waiting..."))}}]),t}(n.Component)),E=(a(57),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(k.a)(t).call(this,e))).state={jokes:[]},a.generate=a.generate.bind(Object(h.a)(a)),a.rate=a.rate.bind(Object(h.a)(a)),a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("DadJokes");e?this.setState({jokes:JSON.parse(e)}):this.generate()}},{key:"rate",value:function(e,t){var a=this.state.jokes.map(function(a){return a.id===e?Object(u.a)({},a,{rating:a.rating+t}):a});a=a.sort(function(e,t){return t.rating-e.rating}),this.setState({jokes:a}),localStorage.setItem("DadJokes",JSON.stringify(a))}},{key:"generate",value:function(){var e=this,t=[];this.setState({jokes:[]},function(){var a=function(){var n=Object(l.a)(c.a.mark(function n(){var r,o,s,i,l;return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,b.a.get("https://icanhazdadjoke.com/",{headers:{Accept:"application/json"}}).catch(console.error);case 2:r=n.sent,o=r.data,s=o.status,i=o.joke,l=o.id,200===s?(t.some(function(e){return e.id===l})||t.push({joke:i,id:l,rating:0}),t.length>=10?(t=t.sort(function(e,t){return t.rating-e.rating}),e.setState({jokes:t}),localStorage.setItem("DadJokes",JSON.stringify(t))):a()):console.error("Failed to retrieve joke");case 6:case"end":return n.stop()}},n)}));return function(){return n.apply(this,arguments)}}();a()})}},{key:"render",value:function(){return r.a.createElement("div",{className:"DadJokes"},r.a.createElement(y,{generate:this.generate,enabled:this.state.jokes.length}),r.a.createElement(O,{jokes:this.state.jokes,rate:this.rate}))}}]),t}(n.Component));var w=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(E,null))};s.a.render(r.a.createElement(w,null),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.7dc25308.chunk.js.map